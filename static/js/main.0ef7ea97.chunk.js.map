{"version":3,"sources":["public/ad.jpg","public/loading.gif","components/videoDisplay.js","components/home.js","components/collect.js","components/menu.js","components/play.js","components/spinner.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","VideoDisplay","props","inputEl","React","useRef","inputTimeEl","useState","setPicWidth","setPicHeight","setTimeWidth","pageNumber","setPageNumber","videoItems","from","undefined","Object","keys","length","handlePic","current","clientWidth","clientHeight","pageClickHandler","event","useEffect","window","addEventListener","removeEventListener","paginationItem","i","push","href","key","onClick","className","totalPage","map","item","id","to","pathname","state","src","snippet","thumbnails","medium","url","alt","ref","title","description","collectItems","some","collectItem","disabled","addCollectItems","Home","totalVideo","Collect","curTab","setCurTab","style","marginTop","Menu","backgroundColor","Play","videoItem","useLocation","videoEl","adHandler","action","document","getElementById","display","picHeight","videoBoxHeight","changeHeight","transform","autoplay","controls","width","height","minHeight","onPause","onPlay","playerRef","Advertise","Spinner","opacity","LoadingImg","App","setCollectItems","isfirstIn","setIsfirstIn","setVideoItems","setTotalVideo","setTotalPage","loadingStatus","setLoadingStatus","splitItems","tempArray","Math","floor","slice","a","tempItems","fetch","method","then","response","json","jsonData","concat","items","pageInfo","totalResults","nextPageToken","catch","err","console","log","fetchData","tab","path","oldArray","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.0ef7ea97.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ad.083b0bce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/loading.7a960949.gif\";","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nfunction VideoDisplay(props) {\r\n    const inputEl = React.useRef(null);\r\n    const inputTimeEl = React.useRef(null);\r\n    const [picWidth, setPicWidth] = React.useState(0);\r\n    const [picHeight, setPicHeight] = React.useState(0);\r\n    const [timeWidth, setTimeWidth] = React.useState(0);\r\n    const [pageNumber, setPageNumber] = React.useState(1);\r\n    const videoItems = props.from === 'home' && props.videoItems !== undefined ? Object.keys(props.videoItems).length > 0 ? props.videoItems[pageNumber - 1] : null\r\n        : props.videoItems;\r\n\r\n    const handlePic = () => {\r\n        if (inputEl.current === null) return;\r\n        setPicWidth(inputEl.current.clientWidth - 10);\r\n        setPicHeight(inputEl.current.clientHeight);\r\n        if (inputTimeEl !== null && inputTimeEl.current !== null) {\r\n            setTimeWidth(inputTimeEl.current.clientWidth - 20);\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        window.addEventListener('resize', handlePic);\r\n        return (() => {\r\n            window.removeEventListener('resize', handlePic);\r\n        })\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        if (inputEl !== null && inputEl.current !== null) {\r\n            handlePic();\r\n        }\r\n    });\r\n\r\n    function pageClickHandler(event) {\r\n        if (event === 'pre') {\r\n            setPageNumber(pageNumber > 1 ? pageNumber - 1 : pageNumber);\r\n        } else if (event === 'next') {\r\n            setPageNumber(pageNumber < 9 ? pageNumber + 1 : pageNumber)\r\n        } else {\r\n            setPageNumber(event)\r\n        }\r\n    }\r\n\r\n    let paginationItem = [];\r\n    for (let i = 0; i < props.totalPage; i++) {\r\n        paginationItem.push(<a href={null} key={i} onClick={() => pageClickHandler(i + 1)} className={pageNumber === i + 1 ? 'active' : null}>{i+1}</a>);\r\n    }\r\n    return (\r\n        <>\r\n            {videoItems !== undefined && videoItems.map((item) => {\r\n                return (\r\n                    <div className=\"videoItem\" key={item.id}>\r\n                        <figure>\r\n                            <Link to={{\r\n                                pathname: 'play',\r\n                                state: {\r\n                                    item: item\r\n                                }\r\n                            }}>\r\n                                <img\r\n                                    src={item.snippet.thumbnails.medium.url}\r\n                                    alt=\"\"\r\n                                    ref={inputEl}\r\n                                />\r\n                            </Link>\r\n                            {/* <div className=\"timeThumb\" style={{ top: picHeight, left: picWidth - timeWidth }} ref={inputTimeEl}>1:10:30</div> */}\r\n                        </figure>\r\n                        <h3 className=\"title\">\r\n                            {item.snippet.title}\r\n                        </h3>\r\n                        <span className=\"description\">\r\n                            {item.snippet.description}\r\n                        </span>\r\n                        {props.from === 'home' &&\r\n                            <>\r\n                                {\r\n                                    props.collectItems.some(collectItem => collectItem.id === item.id) ?\r\n                                        <button className=\"btn_disable\" disabled={true} onClick={() => props.addCollectItems(item)}>已加入收藏</button> :\r\n                                        <button className=\"btn\" onClick={() => props.addCollectItems(item)}>加入收藏</button>\r\n                                }\r\n                            </>\r\n                        }\r\n                    </div>\r\n                )\r\n            })\r\n            }\r\n            {props.from === 'home' &&\r\n                <div className=\"pagination\">\r\n                    <a href={null} onClick={() => pageClickHandler('pre')}>&laquo;</a>\r\n                    {paginationItem}\r\n                    <a href={null} onClick={() => pageClickHandler('next')}>&raquo;</a>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default VideoDisplay;","import React from \"react\";\r\nimport VideoDisplay from './videoDisplay';\r\n\r\nfunction Home(props) {\r\n    return (\r\n        <div>\r\n            <VideoDisplay\r\n                videoItems={props.videoItems}\r\n                collectItems={props.collectItems}\r\n                addCollectItems={(item) => props.addCollectItems(item)}\r\n                totalVideo={props.totalVideo}\r\n                from={'home'}\r\n                totalPage={props.totalPage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport VideoDisplay from './videoDisplay';\r\nfunction Collect(props) {\r\n    React.useEffect(() => {\r\n        if (props.curTab !== 'collect') {\r\n            props.setCurTab('collect');\r\n        }\r\n    });\r\n    return (\r\n        <>\r\n            {Object.keys(props.collectItems).length > 0 ?\r\n                <VideoDisplay\r\n                    videoItems={props.collectItems}\r\n                    collectItems={props.collectItems}\r\n                    from={'collect'}\r\n                />\r\n                :\r\n                <h1 className=\"video\" style={{ marginTop: '50px' }}>目前無收藏影片</h1>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Collect;","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nfunction Menu(props) {\r\n\r\n    return (\r\n        <div className=\"scrollmenu\" >\r\n          <Link to=\"/video/home\" onClick={() => props.setCurTab('home')} style={{backgroundColor: props.curTab === 'home' ? 'red' : null}}>首頁</Link>\r\n          <Link to=\"/video/collect\" onClick={() => props.setCurTab('collect')} style={{backgroundColor: props.curTab === 'collect' ? 'red' : null}}>收藏頁</Link>\r\n          <Link to=\"/video/play\" onClick={() => props.setCurTab('play')} style={{backgroundColor: props.curTab === 'play' ? 'red' : null}}>播放頁</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu;","import React from \"react\";\r\nimport ReactHlsPlayer from 'react-hls-player';\r\nimport Advertise from '../public/ad.jpg';\r\nimport { useLocation } from \"react-router\";\r\nimport $ from 'jquery';\r\n\r\nfunction Play(props) {\r\n    const videoItem = useLocation().state;\r\n    const videoEl = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        if (props.curTab !== 'play') {\r\n            props.setCurTab('play');\r\n        }\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        window.addEventListener('resize', adHandler);\r\n        return (() => {\r\n            window.removeEventListener('resize', adHandler);\r\n        })\r\n    }, []);\r\n\r\n    function adHandler(action) {\r\n        if (videoItem === undefined || videoItem === null) return;\r\n        if (action === '' || action === 'none') {\r\n            document.getElementById('advertisePic').style.display = action;\r\n        }\r\n\r\n        let picHeight = document.getElementById('advertisePic').clientHeight;\r\n        let videoBoxHeight = document.getElementById('videoBox').clientHeight;\r\n        let changeHeight = videoBoxHeight > 250 ? (videoBoxHeight / 2) - (picHeight / 2) : 115;\r\n        document.getElementById('advertisePic').style.transform = 'translate(0, ' + changeHeight + 'px)';\r\n    }\r\n\r\n    return (\r\n        <>\r\n            { videoItem !== undefined ?\r\n                <>\r\n                    <div className=\"video\" id=\"videoBox\">\r\n                        <ReactHlsPlayer\r\n                            url='https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8'\r\n                            autoplay={false}\r\n                            controls={true}\r\n                            width='70%'\r\n                            height='50%'\r\n                            style={{ marginTop: '50px', minHeight: '200px' }}\r\n                            onPause={() => adHandler('')}\r\n                            onPlay={() => adHandler('none')}\r\n                            playerRef={videoEl}\r\n                        />\r\n                        <img id=\"advertisePic\" src={Advertise} className=\"ad\" style={{ display: 'none' }}></img>\r\n                    </div>\r\n                    <div className=\"video\" style={{ marginTop: '10px' }}>\r\n                        <h3 className=\"play_title\" style={{ width: '70%' }}>\r\n                            {videoItem.item.snippet.title}\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"video\">\r\n                        <span className=\"play_description\">\r\n                            {videoItem.item.snippet.description}\r\n                        </span>\r\n                    </div>\r\n                </>\r\n                :\r\n                <h1 className=\"video\" style={{ marginTop: '50px' }}>請先選擇影片</h1>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Play;","import React from \"react\";\nimport LoadingImg from '../public/loading.gif';\nexport const Spinner = (props) => {\n  return (\n      <div id=\"loader-wrapper\" style={{ opacity: '1' }}>\n        <div id=\"loader\"><img src={LoadingImg} alt=\"\" /></div>\n        <div className=\"loader-section section-left\"></div>\n        <div className=\"loader-section section-right\"></div>\n      </div>\n  );\n};\n\nexport default Spinner;","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from './components/home';\nimport Collect from './components/collect';\nimport Menu from './components/menu';\nimport Play from './components/play';\nimport Spinner from './components/spinner';\nimport './App.css';\n\nfunction App() {\n  const [collectItems, setCollectItems] = React.useState([]);\n  const [curTab, setCurTab] = React.useState('home');\n  const [isfirstIn, setIsfirstIn] = React.useState(true);\n  const [videoItems, setVideoItems] = React.useState();\n  const [totalVideo, setTotalVideo] = React.useState(0);\n  const [totalPage, setTotalPage] = React.useState(0);\n  const [loadingStatus, setLoadingStatus] = React.useState(false);\n  React.useEffect(() => {\n    async function fetchData() {\n      let tempItems = [];\n      let url =\n        \"https://www.googleapis.com/youtube/v3/\" +\n        \"playlistItems?part=snippet,contentDetails,status\" +\n        \"&playlistId=UUPnponLRAgfnDuHE7OsxFOQ\" +\n        \"&key=AIzaSyCcLoBWrSwqFI5uxY_8qdhqCkse_QEcRDM\" +\n        \"&maxResults=50\";\n      // 第一次Fetch\n      await fetch(url, { method: 'get' })\n        .then(function (response) {\n          return response.json();\n        }).then((jsonData) => {\n          tempItems = tempItems.concat(jsonData.items);\n          setTotalVideo(jsonData.pageInfo.totalResults > 100 ? 100 : jsonData.pageInfo.totalResults);\n          if (jsonData.nextPageToken !== undefined) {\n            // 第二次Fetch\n            url = url + \"&pageToken=\" + jsonData.nextPageToken;\n            fetch(url, { method: 'get' })\n              .then(function (response) {\n                return response.json();\n              }).then((jsonData) => {\n                tempItems = tempItems.concat(jsonData.items);\n                tempItems = splitItems(tempItems);\n                setVideoItems(tempItems);\n                setLoadingStatus(true);\n              }).catch(function (err) {\n                console.log('error')\n              })\n          } else {\n            tempItems = splitItems(tempItems);\n            setVideoItems(tempItems);\n            setLoadingStatus(true);\n          }\n        }).catch(function (err) {\n          console.log('error')\n        })\n    }\n\n    if (isfirstIn) {\n      setIsfirstIn(false);\n      fetchData();\n    }\n  })\n\n  function addCollectItems(item) {\n    setCollectItems(oldArray => [...oldArray, item]);\n  }\n\n  function splitItems(splitItems) {\n    let tempArray = [];\n    setTotalPage(Math.floor(Object.keys(splitItems).length / 12) + 1);\n    for (let i = 0; i < Object.keys(splitItems).length; i += 12) {\n      if (i + 12 < Object.keys(splitItems).length) {\n        tempArray.push(splitItems.slice(i, i + 12));\n      }\n      else {\n        tempArray.push(splitItems.slice(i, Object.keys(splitItems).length));\n      }\n    }\n    return tempArray;\n  }\n\n  return (\n    <>\n      {!loadingStatus &&\n        <Spinner />\n      }\n      <Router>\n        <Menu curTab={curTab} setCurTab={(tab) => setCurTab(tab)} />\n        <Switch>\n          <Route path=\"/video/play\">\n            <Play setCurTab={(tab) => setCurTab(tab)} />\n          </Route>\n          <Route path=\"/video/collect\">\n            <Collect collectItems={collectItems} setCurTab={(tab) => setCurTab(tab)} />\n          </Route>\n          <Route path=\"/\">\n            <Home videoItems={videoItems} totalVideo={totalVideo} collectItems={collectItems} addCollectItems={(item) => addCollectItems(item)} totalPage={totalPage} />\n          </Route>\n        </Switch>\n      </Router>\n\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}