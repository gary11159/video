(this.webpackJsonpvideo=this.webpackJsonpvideo||[]).push([[0],{22:function(e,t,n){e.exports=n.p+"static/media/ad.083b0bce.jpg"},23:function(e,t,n){e.exports=n.p+"static/media/loading.7a960949.gif"},25:function(e,t,n){e.exports=n(39)},30:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(18),r=n.n(l),o=(n(30),n(24)),i=n(13),s=n.n(i),u=n(19),m=n(5),d=n(7),f=n(1);var p=function(e){var t=c.a.useRef(null),n=c.a.useRef(null),a=c.a.useState(0),l=Object(m.a)(a,2),r=(l[0],l[1]),o=c.a.useState(0),i=Object(m.a)(o,2),s=(i[0],i[1]),u=c.a.useState(0),f=Object(m.a)(u,2),p=(f[0],f[1]),v=c.a.useState(1),h=Object(m.a)(v,2),E=h[0],g=h[1],b="home"===e.from&&void 0!==e.videoItems?Object.keys(e.videoItems).length>0?e.videoItems[E-1]:null:e.videoItems,y=function(){null!==t.current&&(r(t.current.clientWidth-10),s(t.current.clientHeight),null!==n&&null!==n.current&&p(n.current.clientWidth-20))};function I(e){g("pre"===e?E>1?E-1:E:"next"===e?E<9?E+1:E:e)}c.a.useEffect((function(){return window.addEventListener("resize",y),function(){window.removeEventListener("resize",y)}}),[]),c.a.useEffect((function(){null!==t&&null!==t.current&&y()}));for(var k=[],C=function(e){k.push(c.a.createElement("a",{href:null,key:e,onClick:function(){return I(e+1)},className:E===e+1?"active":null},e+1))},w=0;w<e.totalPage;w++)C(w);return c.a.createElement(c.a.Fragment,null,void 0!==b&&b.map((function(n){return c.a.createElement("div",{className:"videoItem",key:n.id},c.a.createElement("figure",null,c.a.createElement(d.b,{to:{pathname:"play",state:{item:n}}},c.a.createElement("img",{src:n.snippet.thumbnails.medium.url,alt:"",ref:t}))),c.a.createElement("h3",{className:"title"},n.snippet.title),c.a.createElement("span",{className:"description"},n.snippet.description),"home"===e.from&&c.a.createElement(c.a.Fragment,null,e.collectItems.some((function(e){return e.id===n.id}))?c.a.createElement("button",{className:"btn_disable",disabled:!0,onClick:function(){return e.addCollectItems(n)}},"\u5df2\u52a0\u5165\u6536\u85cf"):c.a.createElement("button",{className:"btn",onClick:function(){return e.addCollectItems(n)}},"\u52a0\u5165\u6536\u85cf")))})),"home"===e.from&&c.a.createElement("div",{className:"pagination"},c.a.createElement("a",{href:null,onClick:function(){return I("pre")}},"\xab"),k,c.a.createElement("a",{href:null,onClick:function(){return I("next")}},"\xbb")))};var v=function(e){return c.a.createElement("div",null,c.a.createElement(p,{videoItems:e.videoItems,collectItems:e.collectItems,addCollectItems:function(t){return e.addCollectItems(t)},totalVideo:e.totalVideo,from:"home",totalPage:e.totalPage}))};var h=function(e){return c.a.useEffect((function(){"collect"!==e.curTab&&e.setCurTab("collect")})),c.a.createElement(c.a.Fragment,null,Object.keys(e.collectItems).length>0?c.a.createElement(p,{videoItems:e.collectItems,collectItems:e.collectItems,from:"collect"}):c.a.createElement("h1",{className:"video",style:{marginTop:"50px"}},"\u76ee\u524d\u7121\u6536\u85cf\u5f71\u7247"))};var E=function(e){return c.a.createElement("div",{className:"scrollmenu"},c.a.createElement(d.b,{to:"/video/home",onClick:function(){return e.setCurTab("home")},style:{backgroundColor:"home"===e.curTab?"red":null}},"\u9996\u9801"),c.a.createElement(d.b,{to:"/video/collect",onClick:function(){return e.setCurTab("collect")},style:{backgroundColor:"collect"===e.curTab?"red":null}},"\u6536\u85cf\u9801"),c.a.createElement(d.b,{to:"/video/play",onClick:function(){return e.setCurTab("play")},style:{backgroundColor:"play"===e.curTab?"red":null}},"\u64ad\u653e\u9801"))},g=n(21),b=n.n(g),y=n(22),I=n.n(y);n(37);var k=function(e){var t=Object(f.f)().state,n=c.a.useRef(null);function a(e){if(void 0!==t&&null!==t){""!==e&&"none"!==e||(document.getElementById("advertisePic").style.display=e);var n=document.getElementById("advertisePic").clientHeight,a=document.getElementById("videoBox").clientHeight,c=a>250?a/2-n/2:115;document.getElementById("advertisePic").style.transform="translate(0, "+c+"px)"}}return c.a.useEffect((function(){"play"!==e.curTab&&e.setCurTab("play")})),c.a.useEffect((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[]),c.a.createElement(c.a.Fragment,null,void 0!==t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"video",id:"videoBox"},c.a.createElement(b.a,{url:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8",autoplay:!1,controls:!0,width:"70%",height:"50%",style:{marginTop:"50px",minHeight:"200px"},onPause:function(){return a("")},onPlay:function(){return a("none")},playerRef:n}),c.a.createElement("img",{id:"advertisePic",src:I.a,className:"ad",style:{display:"none"}})),c.a.createElement("div",{className:"video",style:{marginTop:"10px"}},c.a.createElement("h3",{className:"play_title",style:{width:"70%"}},t.item.snippet.title)),c.a.createElement("div",{className:"video"},c.a.createElement("span",{className:"play_description"},t.item.snippet.description))):c.a.createElement("h1",{className:"video",style:{marginTop:"50px"}},"\u8acb\u5148\u9078\u64c7\u5f71\u7247"))},C=n(23),w=n.n(C),j=function(e){return c.a.createElement("div",{id:"loader-wrapper",style:{opacity:"1"}},c.a.createElement("div",{id:"loader"},c.a.createElement("img",{src:w.a,alt:""})),c.a.createElement("div",{className:"loader-section section-left"}),c.a.createElement("div",{className:"loader-section section-right"}))};n(38);var O=function(){var e=c.a.useState([]),t=Object(m.a)(e,2),n=t[0],a=t[1],l=c.a.useState("home"),r=Object(m.a)(l,2),i=r[0],p=r[1],g=c.a.useState(!0),b=Object(m.a)(g,2),y=b[0],I=b[1],C=c.a.useState(),w=Object(m.a)(C,2),O=w[0],T=w[1],x=c.a.useState(0),N=Object(m.a)(x,2),S=N[0],P=N[1],B=c.a.useState(0),R=Object(m.a)(B,2),F=R[0],L=R[1],_=c.a.useState(!1),z=Object(m.a)(_,2),H=z[0],W=z[1];function M(e){var t=[];L(Math.floor(Object.keys(e).length/12)+1);for(var n=0;n<Object.keys(e).length;n+=12)n+12<Object.keys(e).length?t.push(e.slice(n,n+12)):t.push(e.slice(n,Object.keys(e).length));return t}return c.a.useEffect((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails,status&playlistId=UUPnponLRAgfnDuHE7OsxFOQ&key=AIzaSyCcLoBWrSwqFI5uxY_8qdhqCkse_QEcRDM&maxResults=50",e.next=4,fetch(n,{method:"get"}).then((function(e){return e.json()})).then((function(e){t=t.concat(e.items),P(e.pageInfo.totalResults>100?100:e.pageInfo.totalResults),void 0!==e.nextPageToken?(n=n+"&pageToken="+e.nextPageToken,fetch(n,{method:"get"}).then((function(e){return e.json()})).then((function(e){t=M(t=t.concat(e.items)),T(t),W(!0)})).catch((function(e){console.log("error")}))):(t=M(t),T(t),W(!0))})).catch((function(e){console.log("error")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y&&(I(!1),function(){e.apply(this,arguments)}())})),c.a.createElement(c.a.Fragment,null,!H&&c.a.createElement(j,null),c.a.createElement(d.a,null,c.a.createElement(E,{curTab:i,setCurTab:function(e){return p(e)}}),c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/video/play"},c.a.createElement(k,{setCurTab:function(e){return p(e)}})),c.a.createElement(f.a,{path:"/video/collect"},c.a.createElement(h,{collectItems:n,setCurTab:function(e){return p(e)}})),c.a.createElement(f.a,{path:"/"},c.a.createElement(v,{videoItems:O,totalVideo:S,collectItems:n,addCollectItems:function(e){return function(e){a((function(t){return[].concat(Object(o.a)(t),[e])}))}(e)},totalPage:F})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.0ef7ea97.chunk.js.map