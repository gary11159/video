(this.webpackJsonpvideo=this.webpackJsonpvideo||[]).push([[0],{22:function(e,t,n){e.exports=n.p+"static/media/ad.083b0bce.jpg"},23:function(e,t,n){e.exports=n.p+"static/media/loading.7a960949.gif"},24:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkFFMzk5M0YxRjcxMTFFODhGMjk5QTFCQkVEQ0JDNDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkFFMzk5NDAxRjcxMTFFODhGMjk5QTFCQkVEQ0JDNDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNjdGNEVEQzFGNTYxMUU4OEYyOTlBMUJCRURDQkM0OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQUUzOTkzRTFGNzExMUU4OEYyOTlBMUJCRURDQkM0OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu6jbtwAAANfSURBVHja7NvfS1phGAfwr3Y0S80KJWuuODeNHBGyH60gC4KK2rzpIgiiqH9gu94ut9t121UUXXQRdFGjqCiIiGATooKZC4yoKCUrcotSq/m8oTBixBo5PXueG+E953jO57w/jj4PR3V1dQWKzc3NV8vLy2/8fv+zSCRigAJCo9F8Lygo+OJwOD7KsvyJ2lQEXlpaeh+Dvi0rK4PVaqUdleBFrOOwv78Pj8eDGPxDVVXVO5XP53u5srIyXltbi8zMTCgxzs/PMT8/j4qKCleG0+nss9vtcn5+PpQakiRBq9VidXXVqg4EAk9pGCs9yEhWdTgcNiplzt6ygIGsavxnwWAGM5jBDGYwgxnMYAYzmMEMZvC/BE9PT2NhYSHp55WSfULKkk5MTGB9fR0mk0nkmiorK5XZw4QdGxuD1+sVWIq1tTUsLi4qr4cvLy8xOjqK7e1t5OTk/LKN8sbRaBROpxMqlSr9wRcXFxgZGRFJcaPReD201GrR43QjCLmxsSH2q6urE9vSdkgTYnh4GH6/HwaDIYGtr69HTU0NDg4OEC/3+Hw+zM7OimPSEkyljqGhIRweHkKv118PKUlCQ0MDSkpKUFpaitbWVgSDwQR6a2sLMzMzYoinFTgcDmNwcBChUAjZ2dmijXLDjY2NsNlsif0I3dbWJtA0vCl2dnYwNTUlblhagM/OzjAwMCA+s7KyRBs9fpqamlBYWHhjf1mW0d7ejqOjowR6b28Pk5OT4salNPj09BT9/f2id3Q6nWijIl1zczNV8H57XHFxMTo6OnB8fJyYw4FAQDyz6calLJgWKLrgeCWSerilpQVms/nWY4uKitDZ2SmmQRxNi9rc3Fzqgl0ulyhP0gXTQkXYP6lM0iiIo2nhovlfXV2dumCLxYKuri6xGhM2Nzf3Tt/R09Mj5j1Nhbt8R1J/eNDwpQv+m8jLy0N3dzf/PWQwgxnMYAYzmMEMZjCDGcxgBjOYwQxm8A1wJBIN3UeGP9WCjPRajzoYPHRTVU/pQUZ6h0n91ePtpfos5ZKVGmQjo8Ph6M3QG0zfTk5ONDqd1knVAkp832d9NplBifzd3V243W7xolZ5eXmfyvHkhShVPrQ9cD22P3ptsZifS5KkVwI4Nmd/xKCfqWdlWR6ntp8CDABNZl7cCNg5GwAAAABJRU5ErkJggg=="},26:function(e,t,n){e.exports=n(39)},31:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(18),o=n.n(c),i=(n(31),n(25)),r=n(13),s=n.n(r),u=n(19),m=n(3),d=n(7),f=n(1);var p=function(e){var t=l.a.useRef(null),n=l.a.useRef(null),a=l.a.useState(0),c=Object(m.a)(a,2),o=c[0],i=c[1],r=l.a.useState(0),s=Object(m.a)(r,2),u=s[0],f=s[1],p=l.a.useState(0),v=Object(m.a)(p,2),h=v[0],g=v[1],E=l.a.useState(1),b=Object(m.a)(E,2),y=b[0],w=b[1],j="home"===e.from&&void 0!==e.videoItems?Object.keys(e.videoItems).length>0?e.videoItems[y-1]:null:e.videoItems,k=0,I=function(){null!==t.current&&(i(t.current.clientWidth-10),f(t.current.clientHeight),null!==n&&null!==n.current&&g(n.current.clientWidth-20))};function N(e){w("pre"===e?y>1?y-1:y:"next"===e?y<9?y+1:y:e)}l.a.useEffect((function(){return window.addEventListener("resize",I),function(){window.removeEventListener("resize",I)}}),[]),l.a.useEffect((function(){null!==t&&null!==t.current&&I()}));for(var A=[],C=function(e){A.push(l.a.createElement("a",{href:null,key:e,onClick:function(){return N(e+1)},className:y===e+1?"active":null},e+1))},T=0;T<e.totalPage;T++)C(T);return l.a.createElement(l.a.Fragment,null,void 0!==j&&j.map((function(a){return l.a.createElement("div",{className:"videoItem",key:a.id},l.a.createElement("figure",null,l.a.createElement(d.b,{to:{pathname:"play",state:{item:a}}},l.a.createElement("img",{src:a.snippet.thumbnails.medium.url,alt:"",ref:t,onLoad:function(){k===j.length-1?(k=0,I()):k++}})),l.a.createElement("div",{className:"timeThumb",style:{top:u,left:o-h},ref:n},"\u5f71\u7247\u9577\u5ea6")),l.a.createElement("h3",{className:"title"},a.snippet.title),l.a.createElement("span",{className:"description"},a.snippet.description),"home"===e.from&&l.a.createElement(l.a.Fragment,null,e.collectItems.some((function(e){return e.id===a.id}))?l.a.createElement("button",{className:"btn_disable",disabled:!0,onClick:function(){return e.addCollectItems(a)}},"\u5df2\u52a0\u5165\u6536\u85cf"):l.a.createElement("button",{className:"btn",onClick:function(){return e.addCollectItems(a)}},"\u52a0\u5165\u6536\u85cf")))})),"home"===e.from&&l.a.createElement("div",{className:"pagination"},l.a.createElement("a",{href:null,onClick:function(){return N("pre")}},"\xab"),A,l.a.createElement("a",{href:null,onClick:function(){return N("next")}},"\xbb")))};var v=function(e){return l.a.createElement("div",null,l.a.createElement(p,{videoItems:e.videoItems,collectItems:e.collectItems,addCollectItems:function(t){return e.addCollectItems(t)},totalVideo:e.totalVideo,from:"home",totalPage:e.totalPage}))};var h=function(e){return l.a.useEffect((function(){"collect"!==e.curTab&&e.setCurTab("collect")})),l.a.createElement("div",null,Object.keys(e.collectItems).length>0?l.a.createElement(p,{videoItems:e.collectItems,collectItems:e.collectItems,from:"collect"}):l.a.createElement("h1",{className:"video",style:{marginTop:"50px"}},"\u76ee\u524d\u7121\u6536\u85cf\u5f71\u7247"))};var g=function(e){return l.a.createElement("div",{className:"scrollmenu"},l.a.createElement(d.b,{to:"/video/home",onClick:function(){return e.setCurTab("home")},style:{backgroundColor:"home"===e.curTab?"red":null}},"\u9996\u9801"),l.a.createElement(d.b,{to:"/video/collect",onClick:function(){return e.setCurTab("collect")},style:{backgroundColor:"collect"===e.curTab?"red":null}},"\u6536\u85cf\u9801"),l.a.createElement(d.b,{to:"/video/play",onClick:function(){return e.setCurTab("play")},style:{backgroundColor:"play"===e.curTab?"red":null}},"\u64ad\u653e\u9801"))},E=n(21),b=n.n(E),y=n(22),w=n.n(y);var j=function(e){var t=Object(f.g)().state,n=l.a.useRef(null);function a(e){if(void 0!==t&&null!==t){""!==e&&"none"!==e||(document.getElementById("advertisePic").style.display=e);var n=document.getElementById("advertisePic").clientHeight,a=document.getElementById("videoBox").clientHeight,l=a>250?a/2-n/2:115;document.getElementById("advertisePic").style.transform="translate(0, "+l+"px)"}}return l.a.useEffect((function(){"play"!==e.curTab&&e.setCurTab("play")})),l.a.useEffect((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}})),l.a.createElement(l.a.Fragment,null,void 0!==t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"video",id:"videoBox"},l.a.createElement(b.a,{url:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8",autoplay:!1,controls:!0,width:"70%",height:"50%",style:{marginTop:"50px",minHeight:"200px"},onPause:function(){return a("")},onPlay:function(){return a("none")},playerRef:n}),l.a.createElement("img",{id:"advertisePic",alt:"ad",src:w.a,className:"ad",style:{display:"none"}})),l.a.createElement("div",{className:"video",style:{marginTop:"10px"}},l.a.createElement("h3",{className:"play_title",style:{width:"70%"}},t.item.snippet.title)),l.a.createElement("div",{className:"video"},l.a.createElement("span",{className:"play_description"},t.item.snippet.description))):l.a.createElement("h1",{className:"video",style:{marginTop:"50px"}},"\u8acb\u5148\u9078\u64c7\u5f71\u7247"))},k=n(23),I=n.n(k),N=function(e){return l.a.createElement("div",{id:"loader-wrapper",style:{opacity:"1"}},l.a.createElement("div",{id:"loader"},l.a.createElement("img",{src:I.a,alt:""})),l.a.createElement("div",{className:"loader-section section-left"}),l.a.createElement("div",{className:"loader-section section-right"}))},A=n(24),C=n.n(A);var T=function(){var e=l.a.useState(window.scrollY),t=Object(m.a)(e,2),n=t[0],a=t[1],c=l.a.useState(),o=Object(m.a)(c,2),i=o[0],r=o[1];return l.a.useEffect((function(){window.addEventListener("scroll",(function(){i||a(window.scrollY)}))})),l.a.createElement("div",{className:"gototop",onClick:function(){return window.scrollTo({behavior:"smooth",top:0}),r(!0),void a(0)},style:n>200?{visibility:"visible",opacity:"1"}:null},l.a.createElement("img",{src:C.a,alt:"goTop"}))};n(38);var G=function(){var e=l.a.useState([]),t=Object(m.a)(e,2),n=t[0],a=t[1],c=l.a.useState("home"),o=Object(m.a)(c,2),r=o[0],p=o[1],E=l.a.useState(),b=Object(m.a)(E,2),y=b[0],w=b[1],k=l.a.useState(0),I=Object(m.a)(k,2),A=I[0],C=I[1],G=l.a.useState(0),O=Object(m.a)(G,2),R=O[0],M=O[1],S=l.a.useState(!1),D=Object(m.a)(S,2),x=D[0],Y=D[1],P=l.a.useState(!0),Z=Object(m.a)(P,2),z=Z[0],V=Z[1];function W(e){var t=[];M(Math.floor(Object.keys(e).length/12)+1);for(var n=0;n<Object.keys(e).length;n+=12)n+12<Object.keys(e).length?t.push(e.slice(n,n+12)):t.push(e.slice(n,Object.keys(e).length));return t}return l.a.useEffect((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails,status&playlistId=UUPnponLRAgfnDuHE7OsxFOQ&key=AIzaSyBVGU4seqI1-erDl8TZHd2mo4_orBgy_NY&maxResults=50",e.next=4,fetch(n,{method:"get"}).then((function(e){return e.json()})).then((function(e){void 0===e.error||null===e.error||403!==e.error.code?(t=t.concat(e.items),C(e.pageInfo.totalResults>100?100:e.pageInfo.totalResults),void 0!==e.nextPageToken?(n=n+"&pageToken="+e.nextPageToken,fetch(n,{method:"get"}).then((function(e){return e.json()})).then((function(e){t=W(t=t.concat(e.items)),w(t),Y(!0)})).catch((function(e){console.log("error")}))):(t=W(t),w(t),Y(!0))):alert("\u672c\u65e5\u6d41\u91cf\u5df2\u7528\u76e1")})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}z&&(!function(){e.apply(this,arguments)}(),V(!1))})),l.a.createElement(l.a.Fragment,null,!x&&l.a.createElement(N,null),l.a.createElement(d.a,null,l.a.createElement(g,{curTab:r,setCurTab:function(e){return p(e)}}),l.a.createElement(f.d,null,l.a.createElement(f.b,{path:"/video/play"},l.a.createElement(j,{setCurTab:function(e){return p(e)}})),l.a.createElement(f.b,{path:"/video/collect"},l.a.createElement(h,{collectItems:n,setCurTab:function(e){return p(e)}})),l.a.createElement(f.b,{path:"/video/home"},l.a.createElement(v,{videoItems:y,totalVideo:A,collectItems:n,addCollectItems:function(e){return function(e){a((function(t){return[].concat(Object(i.a)(t),[e])}))}(e)},totalPage:R})),l.a.createElement(f.a,{to:"/video/home"}))),l.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.152ecb36.chunk.js.map